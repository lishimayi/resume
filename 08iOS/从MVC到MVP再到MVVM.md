# 从MVC到MVP再到MVVM

## 问题: 程序架构为了解决什么问题?

* 好的架构不是代码少,
* 好的架构是便于维护, 项目代码清晰
* 高内聚, 低耦合: 就是谁的事情谁做

## 实际开发中MVC存在的问题

* model 和 view耦合度较高
* VC 层过重
* VC 真正应该做的事情是调度, 建立view 和model之间的关系

### 解决VC过重的问题

* 我们把数据层抽离出来处理
* 原来VC中实现的代理抽离出来一个代理层 
* 一些view的展示抽离出一个View层

这样就成功的解重了VC

### 目前还存在的问题是model和view耦合还很严重

那么接下来就出现了MVP 的面向协议编程

## MVP面向协议编程, 使得代码更加清晰

* 通过协议将model和view的耦合拆开( 这里也可以使用block, 函数, 通知, 指针)
* 在书写协议的时候根据业务逻辑层进行颗粒度划分
* 有了mvp的架构 当来了一个需求, 我们就会有相应的接口, 接下来就是代理三部曲 . 这就是需求驱动开发
* 缺点: 胶水代码过多 , 可以通过封装优化

## 以block形式实现view 和model的双向绑定就是 MVVM
 
* block + 响应式 实现完美的双向绑定
* 优点
	* 低耦合
	* 可重塑性
	* 独立开发：开发人员可以专注于涉及业务逻辑和数据的开发（ViewModel）
	* 可测试性：
* 缺点: 随着block的嵌套层次逐渐加深, 难以调试. 安全性降低 ,清晰度降低 均不如MVP
